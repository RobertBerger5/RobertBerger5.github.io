<html>
  <head>
    <link rel="stylesheet" href="shopping.css" type="text/css">
  </head>
  <body>
    <ul id="list">
    </ul>
    <input id="name" type="text" />
    
    <select id="foodClass">
      <option>meat</option>
      <option>veg</option>
      <option>candy</option>
      <option>fruit</option>
    </select>
    <button onclick="addFood()">Add to list</button>
    <script>
      count=0;
      addFood= function(){
        count=count+1;
        console.log(count);
        name = document.querySelector('#name').value;
        list = document.querySelector("#list");
        foodClass = document.querySelector("#foodClass").value;
        newFood = document.createTextNode(name);
        bullet = document.createElement("li");
        
        cB = document.createElement('input');
        
        type = document.createAttribute("type");
        type.value = "checkbox";
        cB.setAttributeNode(type);
        
        id = document.createAttribute("id");       // Create a "class" attribute
        id.value = "cb"+count;                           // Set the value of the class attribute
        cB.setAttributeNode(id);
        
        onClick = document.createAttribute("onclick");       // Create a "class" attribute
        onClick.value = "czech(cb"+count+")";                           // Set the value of the class attribute
        cB.setAttributeNode(onClick);

        //input type="checkbox" id="cb'count'" onclick="czech(cb'count')"
        
        bullet.className=foodClass;
        bullet.appendChild(newFood);
        
        list.appendChild(cB);
        
        list.appendChild(bullet);
        document.querySelector('#name').value="";
      }
      
      czech=function(checkNum){
        theCheckBox=document.querySelector('#'+checkNum)
        if(theCheckBox.checked){
          console.log(checkNum);
        }else{
          console.log("uncheck "+checkNum);
        }
      }
      
    </script>
    <ul>
      <li>
        <input type="checkbox" id="cb1" onclick="czech(cb1)" />
      </li>
      <li>
        <input type="checkbox" id="cb2" onclick="czech(cb2)" />
      </li>
    </ul>
  </body>
</html>
