<html>
  <head>
    <link rel="stylesheet" href="shopping.css" type="text/css">
  </head>
  <body>
    <ul id="list">
    </ul>
    <div>
      <input id="name" class="new" type="text" />
      <select id="foodClass" class="new">
        <option>meat</option>
        <option>veg</option>
        <option>candy</option>
        <option>fruit</option>
      </select>
      <button onclick="addFood()" class="new">Add to list</button>
    </div>
    <script>
      count=0;
      addFood= function(){
        count=count+1;
        name = document.querySelector('#name').value;
        list = document.querySelector("#list");
        foodClass = document.querySelector("#foodClass").value;
        newFood = document.createTextNode(name);
        bullet = document.createElement("li");
        
        cB = document.createElement('input');
        
        type = document.createAttribute("type");
        type.value = "checkbox";
        cB.setAttributeNode(type);
        cB.onclick=czech();

//add class when checkbox checked called done   this.parentNode selects its parent

        //input type="checkbox" id="cb'count'" onclick="czech(cb'count')"
        
        bullet.classList.add(foodClass);
        bullet.appendChild(newFood);
        
        list.appendChild(cB);
        
        list.appendChild(bullet);
        document.querySelector('#name').value="";
      }
      
      czech=function(){
        theCheckBox=this;
        if(theCheckBox.checked){
          this.parentNode.classList.add(done);
        }else{
          this.parentNode.classList.delete(done);
        }
      }
      
    </script>
    
<!--
    <ul>
      <li>
        <input type="checkbox" onclick="czech(cb1)" />
      </li>
      <li>
        <input type="checkbox" id="cb2" onclick="czech(cb2)" />
      </li>
    </ul>
-->
  </body>
</html>
