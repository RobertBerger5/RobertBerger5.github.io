<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no" />
		<title>Shitty, but made with love</title>
		<link href="http://findicons.com/files/icons/1723/humility/16/gnome_joystick.png" rel="icon" type="image/x-icon" />
		<script src="https://code.jquery.com/jquery-1.10.2.js"></script>
		<script src="/keyCodes.js"></script>
		<link rel="stylesheet" href="/games/games.css" type="text/css">
	</head>
	<body>
		<div id="choicesDiv">
			<p class="gameChoice" onclick="playGame('badgame')">Monster Catcher</p>
			<p class="gameChoice" onclick="playGame('catgame')">Rain Cat</p>
			<p class="gameChoice" onclick="playGame('teamwork')">Multiplayer</p><!--Hitting "escape" in the game still localsaves it to that name, keep in mind if the name's changed-->
			<p class="gameChoice" onclick="playGame('zombies')">Zombies</p>
			<p class="gameChoice" onclick="playGame('pong')">Pong</p>
			<p class="gameChoice" onclick="playGame('scroll')">City Destroyer</p>
			<p class="explanation">Click on whatever you want to play. Spacebar will take you to the most recent game you've played.</p>
		</div>
		<div id="options"></div>
		<canvas height="0px" width="0px" id="canvas"></canvas>
		<script>
			playingGame=false;
			function playGame(daURL){
				scriptURL="/games/"+daURL+".js";
				choicesDiv=document.getElementById("choicesDiv");
				choicesDiv.parentNode.removeChild(choicesDiv);
				gameScript=document.createElement("script");
				gameScript.src=scriptURL;
				document.body.appendChild(gameScript);
				localStorage.setItem("recentGame", daURL);
				playingGame=true;
			}
			/*$( "body" ).on( "keydown", function( event ) {
				if(event.which=="49"&&playingGame==false){
					playGame('badgame');
				}else if(event.which=="50"&&playingGame==false){
					playGame('catgame');
				}else if(event.which=="51"&&playingGame==false){
					playGame('teamwork');
				}else if(event.which=="32"&&playingGame==false){
					playGame(recentGame);
				}
			});*/ //TODO: use arrow keys to select which game?
			recentGame=localStorage.getItem("recentGame");
		</script>
	</body>
</html>
